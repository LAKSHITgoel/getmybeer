(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/loading.5be365b4.gif"},20:function(e,t,a){e.exports=a.p+"static/media/loading.5be365b4.gif"},31:function(e,t,a){e.exports=a(64)},36:function(e,t,a){},38:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(27),c=a.n(s),i=(a(36),a(29)),l=a(6),o=a(7),m=a(9),u=a(8),d=a(10),v=a(66),h=a(67),f=a(65);a(38);function p(e){return r.a.createElement("nav",{className:"navbar fixed-top"},r.a.createElement("div",{className:"left"},r.a.createElement("p",{className:"brand"},"Beans Loves Beer")),r.a.createElement("div",{className:"right"},r.a.createElement(f.a,{className:"link",to:"/"},"Home"),r.a.createElement(f.a,{className:"link",to:"/fav"},"Favourites")))}var g=a(12),b=a.n(g),E=a(16),N=a(13),j=a(14),O=a(18),F=a.n(O),k=a(11),S=function(e){return function(t){function a(){var e;return Object(l.a)(this,a),(e=Object(m.a)(this,Object(u.a)(a).call(this))).state={scrollPosition:e.getWindowScrollTop()},e.handleInterval=e.handleInterval.bind(Object(k.a)(Object(k.a)(e))),e.handleRequestAnimationFrame=e.handleRequestAnimationFrame.bind(Object(k.a)(Object(k.a)(e))),e}return Object(d.a)(a,t),Object(o.a)(a,[{key:"componentWillMount",value:function(){this.intervalID=setInterval(this.handleInterval,20)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID),cancelAnimationFrame(this.requestID),this.requestID=null,this.intervalID=null}},{key:"getWindowScrollTop",value:function(){return window.pageYOffset||document.documentElement.scrollTop}},{key:"handleInterval",value:function(){cancelAnimationFrame(this.requestID),this.requestID=requestAnimationFrame(this.handleRequestAnimationFrame)}},{key:"handleRequestAnimationFrame",value:function(){var e=this.state.scrollPosition,t=this.getWindowScrollTop();t!==e&&this.setState({scrollPosition:t})}},{key:"render",value:function(){var t=this.state.scrollPosition;return r.a.createElement(e,Object.assign({},this.props,{scrollPosition:t}))}}]),a}(n.Component)},y=a(19),w=a.n(y),x=S(function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){a.setState(Object(j.a)({},e.target.name,e.target.value))},a.addToFav=function(e){var t=a.state.results,n=Object(N.a)({},t[e.target.id-1],{fav:!0}),r=t;r[e.target.id-1]=n,console.log(r),a.setState({results:r}),a.props.addFav(e.target.id)},a.removeFromFav=function(e){var t=a.state.results,n=Object(N.a)({},t[e.target.id-1],{fav:!1}),r=t;r[e.target.id-1]=n,console.log(r),a.setState({results:r}),a.props.removeFav(e.target.id)},a.getData=Object(E.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a.state.search){e.next=4;break}return e.next=3,a.setState({loading:!0});case 3:F.a.get("/beers?page=".concat(a.state.page,"&per_page=").concat(a.state.limit)).then(function(e){return e.data}).then(function(e){e.map(function(e){return e.fav=!1}),a.setState({results:a.state.results.concat(e)})}).then(function(){return a.setState({loading:!1})});case 4:if(""===a.state.search){e.next=8;break}return e.next=7,a.setState({searching:!0});case 7:F.a.get("/beers?page=".concat(a.state.page,"&per_page=").concat(a.state.limit,"&beer_name=").concat(a.state.search)).then(function(e){return e.data}).then(function(e){return a.setState({results:e})}).then(function(){a.setState({searching:!1}),a.setState({search:""})});case 8:case"end":return e.stop()}},e,this)})),a.onSubmit=function(){var e=Object(E.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.getData();case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={page:1,limit:20,search:"".split(" ").join("_"),results:[],loading:!1,searching:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getData(),console.log("scroll position",this.props.scrollPosition)}},{key:"componentWillReceiveProps",value:function(){var e=Object(E.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("new scroll",t.scrollPosition),!(t.scrollPosition>1500)){e.next=7;break}return e.next=4,this.setState({loading:!0});case 4:return e.next=6,this.setState({page:this.state.page+1});case 6:this.getData();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.onSubmit,className:"container"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{className:"form-control form-control-lg input-group-prepend",type:"text",value:this.state.search,name:"search",onChange:this.onChange,placeholder:"Search a Beer by Name..."}),r.a.createElement("input",{type:"submit",className:"btn btn-success",value:"Search"}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},this.state.searching?r.a.createElement("div",{className:"loader"},r.a.createElement("img",{src:w.a,className:"loading",alt:"loading"})):r.a.createElement("div",{className:"results"},this.state.results.map(function(t){return r.a.createElement("div",{className:"card",key:t.id},r.a.createElement("div",{className:"myrow"},t.fav?r.a.createElement("i",{className:"fas fa-heart right icon ",id:t.id,onClick:e.removeFromFav}):r.a.createElement("i",{className:"far fa-heart right icon ",id:t.id,onClick:e.addToFav})),r.a.createElement("div",{className:"beer-details"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{className:"beer-image",src:t.image_url,alt:"beer"})),r.a.createElement("div",{className:"beer-name"},r.a.createElement("p",{className:"name"},t.name),r.a.createElement("p",{className:"beer-desc"},t.description))))}),this.state.loading&&r.a.createElement("div",{className:"loader"},r.a.createElement("img",{src:w.a,className:"loading",alt:"loading"}))))))}}]),t}(r.a.Component)),D=a(20),I=a.n(D),C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).addToFav=function(e){var t=a.state.results,n=Object(N.a)({},t[e.target.id-1],{fav:!0}),r=t;r[e.target.id-1]=n,console.log(r),a.setState({results:r}),a.props.addFav(e.target.id)},a.removeFromFav=function(e){var t=a.state.results,n=Object(N.a)({},t[e.target.id-1],{fav:!1}),r=t;r[e.target.id-1]=n,console.log(r),a.setState({results:r}),a.props.removeFav(e.target.id)},a.state={searching:!1,results:[]},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},this.state.searching?r.a.createElement("div",{className:"loader"},r.a.createElement("img",{src:I.a,className:"loading",alt:"loading"})):r.a.createElement("div",{className:"results"},this.state.results.map(function(t){return r.a.createElement("div",{className:"card",key:t.id},r.a.createElement("div",{className:"myrow"},t.fav?r.a.createElement("i",{className:"fas fa-heart right icon ",id:t.id,onClick:e.removeFromFav}):r.a.createElement("i",{className:"far fa-heart right icon ",id:t.id,onClick:e.addToFav})),r.a.createElement("div",{className:"beer-details"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{className:"beer-image",src:t.image_url,alt:"beer"})),r.a.createElement("div",{className:"beer-name"},r.a.createElement("p",{className:"name"},t.name),r.a.createElement("p",{className:"beer-desc"},t.description))))}),this.state.loading&&r.a.createElement("div",{className:"loader"},r.a.createElement("img",{src:I.a,className:"loading",alt:"loading"}))))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).removeFav=function(e){var t=a.state.favourites.filter(function(t){return t!==e});a.setState({favourites:t})},a.addFav=function(e){a.setState({favourites:Object(i.a)(a.state.favourites).concat([e])})},a.state={favourites:[]},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"beer-app"},r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(x,Object.assign({addFav:e.addFav,removeFav:e.removeFav},e.props))}}),r.a.createElement(h.a,{exact:!0,path:"/fav",render:function(){return r.a.createElement(C,Object.assign({addFav:e.addFav,removeFav:e.removeFav},e.props))}}))))}}]),t}(r.a.Component);c.a.render(r.a.createElement(q,null),document.getElementById("root"))}},[[31,2,1]]]);
//# sourceMappingURL=main.bb373927.chunk.js.map